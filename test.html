<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="jquery-3.6.0.js"></script>
    <script src="sweetalert.min.js"></script>
    <script src="common.js"></script>
</head>
<body>
    <script>
        NextCalc.testDate = new Date(2021,4,1,7,0,0);
        NextCalc.now=function(){return NextCalc.testDate;}
        NextCalc.clear();
        NextCalc.totalAmount=1800;
        for (let index = 0; index < 90; index++) {
            NextCalc.testDate = new Date(2021,4,Math.floor(index / 3)+1,7+5*(index % 3),0,0);
            var desired = NextCalc.computeNext();
            var actual =5+ Math.floor(Math.random() * desired);
            if(Math.random()<0.03){
                actual=Math.random()*15+19;
            }
            if(Math.random()<0.06){
                actual=0;
            }
            
            NextCalc.addConsume(actual,NextCalc.testDate);
            document.writeln("<br>在第"+NextCalc.testDate.getDate()+"天吃饭消费"+actual);
            if(Math.random()<0.08){
                var ext=Math.random()*40+20;
                NextCalc.removeBudget(ext);
                document.writeln("<br>在第"+NextCalc.testDate.getDate()+"天其它消费"+ext);
            }
            if(Math.random()<0.1){
                var ext=Math.random()*3+9;
                NextCalc.removeBudget(ext);
                document.writeln("<br>在第"+NextCalc.testDate.getDate()+"天零食消费"+ext);
            }
        }

        document.writeln("<br>月底结余："+NextCalc.getAvailableAmount());
    </script>
</body>
</html>